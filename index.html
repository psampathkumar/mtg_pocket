<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MTG Pocket</title>
  
  <!-- External Libraries -->
  <script type="module" src="https://cdn.jsdelivr.net/npm/hover-tilt/dist/hover-tilt.js"></script>
  
  <!-- Styles -->
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Header -->
  <header>
    <h1>MTG Pocket</h1>
  </header>

  <!-- Set Selector Dropdown -->
  <div class="setDropdown">
    <label style="font-size:0.85rem">
      Set: 
      <select id="setSelect"></select>
    </label>
  </div>

  <!-- Home Screen (Pack Opening) -->
  <div id="homeScreen">
    <!-- Pack Image -->
    <div class="packImage" id="packImage">
      <div class="packBg"></div>
      <div class="packContent">
        <img src="" alt="Set Logo" id="packLogo" class="packLogo">
        <img src="" alt="Set Icon" id="packIcon" class="packIcon">
      </div>
    </div>

    <!-- Open Pack Button -->
    <button id="openPackHome" style="font-size:1.2rem;padding:1rem 2rem">
      Open Pack (<span id="packCost">6</span>/<span id="points">0</span>)
    </button>

    <!-- Countdown Timer -->
    <div style="margin-top:1rem;font-size:0.9rem" id="countdown">
      Next point in: --:--
    </div>

    <!-- Navigation Buttons -->
    <div class="navButtons">
      <button id="viewCollection">View Collection</button>
    </div>

    <!-- Developer Tools Panel -->
    <div style="margin-top:2rem;position:relative">
      <button id="devToggle" style="padding:0.5rem;font-size:0.9rem;background:rgba(255,255,255,0.1)">
        üõ†Ô∏è Dev
      </button>
      <div id="devPanel" style="display:none;position:absolute;bottom:100%;left:50%;transform:translateX(-50%);margin-bottom:0.5rem;background:rgba(0,0,0,0.9);padding:1rem;border-radius:10px;border:1px solid #333;min-width:300px;z-index:100">
        <!-- Free Mode Toggle -->
        <div style="margin-bottom:0.75rem">
          <label style="display:flex;align-items:center;gap:0.5rem;cursor:pointer">
            <input type="checkbox" id="freeMode"> 
            <span>Free Packs</span>
          </label>
        </div>

        <!-- Add Card by Collector Number -->
        <div style="display:flex;gap:0.5rem;align-items:center;margin-bottom:0.75rem">
          <input 
            type="text" 
            id="collectorInput" 
            placeholder="Collector #" 
            style="flex:1;padding:0.5rem;background:#222;border:1px solid #444;border-radius:6px;color:#fff;font-size:0.9rem"
          >
          <button id="addCardBtn" style="padding:0.5rem 1rem;font-size:0.9rem">
            Add Card
          </button>
        </div>

        <!-- Test Glare Buttons -->
        <div style="display:flex;gap:0.5rem;flex-direction:column">
          <button id="testGlareBtn" style="padding:0.5rem 1rem;font-size:0.9rem;width:100%">
            ‚ú® Test Glare (Manual)
          </button>
          <button id="testLibraryBtn" style="padding:0.5rem 1rem;font-size:0.9rem;width:100%">
            üé¥ Test Glare (Library)
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Collection View -->
  <div id="collectionView">
    <!-- Collection Controls -->
    <div class="controls">
      <button id="backHome">‚Üê Back to Home</button>
      <div style="margin-left:auto;font-size:1rem;font-weight:600">
        Total Cards: <span id="totalCards">0</span>
      </div>
    </div>

    <!-- Collection Stats (Filters) -->
    <div class="stats" id="stats"></div>

    <!-- Collection Grid -->
    <div id="collection" class="cards"></div>
  </div>

  <!-- Pack Opening Modal -->
  <div id="packModal"></div>

  <!-- Card Detail View Modal -->
  <div id="cardViewModal"></div>

  <!-- JavaScript Application Entry Point -->
  <script type="module" src="./js/main.js"></script>
</body>
</html>